{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateArcs = exports.clearOuterArcs = exports.clearArcs = exports.redrawArcs = exports.getCoordByValue = exports.createGradientElement = exports.getColors = exports.applyGradientColors = exports.getArcDataByPercentage = exports.getArcDataByValue = exports.applyColors = exports.setupTooltip = exports.setupArcs = exports.drawArc = exports.setArcData = exports.hideTooltip = void 0;\nvar utils = __importStar(require(\"./utils\"));\nvar d3_1 = require(\"d3\");\nvar arcHooks = __importStar(require(\"./arc\"));\nvar constants_1 = __importDefault(require(\"../constants\"));\nvar Tooltip_1 = require(\"../types/Tooltip\");\nvar GaugeComponentProps_1 = require(\"../types/GaugeComponentProps\");\nvar lodash_1 = require(\"lodash\");\nvar onArcMouseMove = function (event, d, gauge) {\n  //event.target.style.stroke = \"#ffffff5e\";\n  if (d.data.tooltip != undefined) {\n    var shouldChangeText = d.data.tooltip.text != gauge.tooltip.current.text();\n    if (shouldChangeText) {\n      gauge.tooltip.current.html(d.data.tooltip.text).style(\"position\", \"absolute\").style(\"display\", \"block\").style(\"opacity\", 1);\n      applyTooltipStyles(d.data.tooltip, d.data.color, gauge);\n    }\n    gauge.tooltip.current.style(\"left\", event.pageX + 15 + \"px\").style(\"top\", event.pageY - 10 + \"px\");\n  }\n  if (d.data.onMouseMove != undefined) d.data.onMouseMove(event);\n};\nvar applyTooltipStyles = function (tooltip, arcColor, gauge) {\n  //Apply default styles\n  Object.entries(Tooltip_1.defaultTooltipStyle).forEach(function (_a) {\n    var key = _a[0],\n      value = _a[1];\n    return gauge.tooltip.current.style(utils.camelCaseToKebabCase(key), value);\n  });\n  gauge.tooltip.current.style(\"background-color\", arcColor);\n  //Apply custom styles\n  if (tooltip.style != undefined) Object.entries(tooltip.style).forEach(function (_a) {\n    var key = _a[0],\n      value = _a[1];\n    return gauge.tooltip.current.style(utils.camelCaseToKebabCase(key), value);\n  });\n};\nvar onArcMouseLeave = function (event, d, gauge, mousemoveCbThrottled) {\n  mousemoveCbThrottled.cancel();\n  (0, exports.hideTooltip)(gauge);\n  if (d.data.onMouseLeave != undefined) d.data.onMouseLeave(event);\n};\nvar hideTooltip = function (gauge) {\n  gauge.tooltip.current.html(\" \").style(\"display\", \"none\");\n};\nexports.hideTooltip = hideTooltip;\nvar onArcMouseOut = function (event, d, gauge) {\n  event.target.style.stroke = \"none\";\n};\nvar onArcMouseClick = function (event, d) {\n  if (d.data.onMouseClick != undefined) d.data.onMouseClick(event);\n};\nvar setArcData = function (gauge) {\n  var _a, _b;\n  var arc = gauge.props.arc;\n  var minValue = gauge.props.minValue;\n  var maxValue = gauge.props.maxValue;\n  // Determine number of arcs to display\n  var nbArcsToDisplay = (arc === null || arc === void 0 ? void 0 : arc.nbSubArcs) || ((_a = arc === null || arc === void 0 ? void 0 : arc.subArcs) === null || _a === void 0 ? void 0 : _a.length) || 1;\n  var colorArray = (0, exports.getColors)(nbArcsToDisplay, gauge);\n  if ((arc === null || arc === void 0 ? void 0 : arc.subArcs) && !(arc === null || arc === void 0 ? void 0 : arc.nbSubArcs)) {\n    var lastSubArcLimit_1 = 0;\n    var lastSubArcLimitPercentageAcc_1 = 0;\n    var subArcsLength_1 = [];\n    var subArcsLimits_1 = [];\n    var subArcsTooltip_1 = [];\n    (_b = arc === null || arc === void 0 ? void 0 : arc.subArcs) === null || _b === void 0 ? void 0 : _b.forEach(function (subArc, i) {\n      var _a;\n      var subArcLength = 0;\n      //map limit for non defined subArcs limits\n      var subArcRange = 0;\n      var limit = subArc.limit;\n      if (subArc.length != undefined) {\n        subArcLength = subArc.length;\n        limit = utils.getCurrentGaugeValueByPercentage(subArcLength + lastSubArcLimitPercentageAcc_1, gauge);\n      } else if (subArc.limit == undefined) {\n        subArcRange = lastSubArcLimit_1;\n        var remainingPercentageEquallyDivided = undefined;\n        var remainingSubArcs = (_a = arc === null || arc === void 0 ? void 0 : arc.subArcs) === null || _a === void 0 ? void 0 : _a.slice(i);\n        var remainingPercentage = (1 - utils.calculatePercentage(minValue, maxValue, lastSubArcLimit_1)) * 100;\n        if (!remainingPercentageEquallyDivided) {\n          remainingPercentageEquallyDivided = remainingPercentage / Math.max((remainingSubArcs === null || remainingSubArcs === void 0 ? void 0 : remainingSubArcs.length) || 1, 1) / 100;\n        }\n        limit = lastSubArcLimit_1 + remainingPercentageEquallyDivided * 100;\n        subArcLength = remainingPercentageEquallyDivided;\n      } else {\n        subArcRange = limit - lastSubArcLimit_1;\n        // Calculate arc length based on previous arc percentage\n        if (i !== 0) {\n          subArcLength = utils.calculatePercentage(minValue, maxValue, limit) - lastSubArcLimitPercentageAcc_1;\n        } else {\n          subArcLength = utils.calculatePercentage(minValue, maxValue, subArcRange);\n        }\n      }\n      subArcsLength_1.push(subArcLength);\n      subArcsLimits_1.push(limit);\n      lastSubArcLimitPercentageAcc_1 = subArcsLength_1.reduce(function (count, curr) {\n        return count + curr;\n      }, 0);\n      lastSubArcLimit_1 = limit;\n      if (subArc.tooltip != undefined) subArcsTooltip_1.push(subArc.tooltip);\n    });\n    var subArcs_1 = arc.subArcs;\n    gauge.arcData.current = subArcsLength_1.map(function (length, i) {\n      return {\n        value: length,\n        limit: subArcsLimits_1[i],\n        color: colorArray[i],\n        showTick: subArcs_1[i].showTick || false,\n        tooltip: subArcs_1[i].tooltip || undefined,\n        onMouseMove: subArcs_1[i].onMouseMove,\n        onMouseLeave: subArcs_1[i].onMouseLeave,\n        onMouseClick: subArcs_1[i].onClick\n      };\n    });\n  } else {\n    var arcValue_1 = maxValue / nbArcsToDisplay;\n    gauge.arcData.current = Array.from({\n      length: nbArcsToDisplay\n    }, function (_, i) {\n      return {\n        value: arcValue_1,\n        limit: (i + 1) * arcValue_1,\n        color: colorArray[i],\n        tooltip: undefined\n      };\n    });\n  }\n};\nexports.setArcData = setArcData;\nvar getGrafanaMainArcData = function (gauge, percent) {\n  if (percent === void 0) {\n    percent = undefined;\n  }\n  var currentPercentage = percent != undefined ? percent : utils.calculatePercentage(gauge.props.minValue, gauge.props.maxValue, gauge.props.value);\n  var curArcData = (0, exports.getArcDataByPercentage)(currentPercentage, gauge);\n  var firstSubArc = {\n    value: currentPercentage,\n    //White indicate that no arc was found and work as an alert for debug\n    color: (curArcData === null || curArcData === void 0 ? void 0 : curArcData.color) || \"white\"\n    //disabled for now because onMouseOut is not working properly with the\n    //high amount of renderings of this arc\n    //tooltip: curArcData?.tooltip\n  };\n  //This is the grey arc that will be displayed when the gauge is not full\n  var secondSubArc = {\n    value: 1 - currentPercentage,\n    color: \"#5C5C5C\"\n  };\n  return [firstSubArc, secondSubArc];\n};\nvar drawGrafanaOuterArc = function (gauge, resize) {\n  if (resize === void 0) {\n    resize = false;\n  }\n  var outerRadius = gauge.dimensions.current.outerRadius;\n  //Grafana's outer arc will be populates as the standard arc data would\n  if (gauge.props.type == GaugeComponentProps_1.GaugeType.Grafana && resize) {\n    gauge.doughnut.current.selectAll(\".outerSubArc\").remove();\n    var outerArc = (0, d3_1.arc)().outerRadius(outerRadius + 7).innerRadius(outerRadius + 2).cornerRadius(0).padAngle(0);\n    var arcPaths = gauge.doughnut.current.selectAll(\"anyString\").data(gauge.pieChart.current(gauge.arcData.current)).enter().append(\"g\").attr(\"class\", \"outerSubArc\");\n    var outerArcSubarcs = arcPaths.append(\"path\").attr(\"d\", outerArc);\n    (0, exports.applyColors)(outerArcSubarcs, gauge);\n    var mousemoveCbThrottled_1 = (0, lodash_1.throttle)(function (event, d) {\n      return onArcMouseMove(event, d, gauge);\n    }, 20);\n    arcPaths.on(\"mouseleave\", function (event, d) {\n      return onArcMouseLeave(event, d, gauge, mousemoveCbThrottled_1);\n    }).on(\"mouseout\", function (event, d) {\n      return onArcMouseOut(event, d, gauge);\n    }).on(\"mousemove\", mousemoveCbThrottled_1).on(\"click\", function (event, d) {\n      return onArcMouseClick(event, d);\n    });\n  }\n};\nvar drawArc = function (gauge, percent) {\n  var _a, _b;\n  if (percent === void 0) {\n    percent = undefined;\n  }\n  var _c = gauge.props.arc,\n    padding = _c.padding,\n    cornerRadius = _c.cornerRadius;\n  var _d = gauge.dimensions.current,\n    innerRadius = _d.innerRadius,\n    outerRadius = _d.outerRadius;\n  // chartHooks.clearChart(gauge);\n  var data = {};\n  //When gradient enabled, it'll have only 1 arc\n  if ((_b = (_a = gauge.props) === null || _a === void 0 ? void 0 : _a.arc) === null || _b === void 0 ? void 0 : _b.gradient) {\n    data = [{\n      value: 1\n    }];\n  } else {\n    data = gauge.arcData.current;\n  }\n  if (gauge.props.type == GaugeComponentProps_1.GaugeType.Grafana) {\n    data = getGrafanaMainArcData(gauge, percent);\n  }\n  var arcPadding = gauge.props.type == GaugeComponentProps_1.GaugeType.Grafana ? 0 : padding;\n  var arcCornerRadius = gauge.props.type == GaugeComponentProps_1.GaugeType.Grafana ? 0 : cornerRadius;\n  var arcObj = (0, d3_1.arc)().outerRadius(outerRadius).innerRadius(innerRadius).cornerRadius(arcCornerRadius).padAngle(arcPadding);\n  var arcPaths = gauge.doughnut.current.selectAll(\"anyString\").data(gauge.pieChart.current(data)).enter().append(\"g\").attr(\"class\", \"subArc\");\n  var subArcs = arcPaths.append(\"path\").attr(\"d\", arcObj);\n  (0, exports.applyColors)(subArcs, gauge);\n  var mousemoveCbThrottled = (0, lodash_1.throttle)(function (event, d) {\n    return onArcMouseMove(event, d, gauge);\n  }, 20);\n  arcPaths.on(\"mouseleave\", function (event, d) {\n    return onArcMouseLeave(event, d, gauge, mousemoveCbThrottled);\n  }).on(\"mouseout\", function (event, d) {\n    return onArcMouseOut(event, d, gauge);\n  }).on(\"mousemove\", mousemoveCbThrottled).on(\"click\", function (event, d) {\n    return onArcMouseClick(event, d);\n  });\n};\nexports.drawArc = drawArc;\nvar setupArcs = function (gauge, resize) {\n  if (resize === void 0) {\n    resize = false;\n  }\n  //Setup the arc\n  (0, exports.setupTooltip)(gauge);\n  drawGrafanaOuterArc(gauge, resize);\n  (0, exports.drawArc)(gauge);\n};\nexports.setupArcs = setupArcs;\nvar setupTooltip = function (gauge) {\n  //Add tooltip\n  var isTooltipInTheDom = document.getElementsByClassName(constants_1.default.arcTooltipClassname).length != 0;\n  if (!isTooltipInTheDom) (0, d3_1.select)(\"body\").append(\"div\").attr(\"class\", constants_1.default.arcTooltipClassname);\n  gauge.tooltip.current = (0, d3_1.select)(\".\".concat(constants_1.default.arcTooltipClassname));\n  gauge.tooltip.current.on(\"mouseleave\", function () {\n    return arcHooks.hideTooltip(gauge);\n  }).on(\"mouseout\", function () {\n    return arcHooks.hideTooltip(gauge);\n  });\n};\nexports.setupTooltip = setupTooltip;\nvar applyColors = function (subArcsPath, gauge) {\n  var _a, _b;\n  if ((_b = (_a = gauge.props) === null || _a === void 0 ? void 0 : _a.arc) === null || _b === void 0 ? void 0 : _b.gradient) {\n    var uniqueId_1 = \"subArc-linear-gradient-\".concat(Math.random());\n    var gradEl = (0, exports.createGradientElement)(gauge.doughnut.current, uniqueId_1);\n    (0, exports.applyGradientColors)(gradEl, gauge);\n    subArcsPath.style(\"fill\", function (d) {\n      return \"url(#\".concat(uniqueId_1, \")\");\n    });\n  } else {\n    subArcsPath.style(\"fill\", function (d) {\n      return d.data.color;\n    });\n  }\n};\nexports.applyColors = applyColors;\nvar getArcDataByValue = function (value, gauge) {\n  return gauge.arcData.current.find(function (subArcData) {\n    return value <= subArcData.limit;\n  });\n};\nexports.getArcDataByValue = getArcDataByValue;\nvar getArcDataByPercentage = function (percentage, gauge) {\n  return (0, exports.getArcDataByValue)(utils.getCurrentGaugeValueByPercentage(percentage, gauge), gauge);\n};\nexports.getArcDataByPercentage = getArcDataByPercentage;\nvar applyGradientColors = function (gradEl, gauge) {\n  gauge.arcData.current.forEach(function (subArcData) {\n    var _a, _b, _c, _d;\n    var normalizedOffset = utils.normalize(subArcData === null || subArcData === void 0 ? void 0 : subArcData.limit, (_b = (_a = gauge === null || gauge === void 0 ? void 0 : gauge.props) === null || _a === void 0 ? void 0 : _a.minValue) !== null && _b !== void 0 ? _b : 0, (_d = (_c = gauge === null || gauge === void 0 ? void 0 : gauge.props) === null || _c === void 0 ? void 0 : _c.maxValue) !== null && _d !== void 0 ? _d : 100);\n    gradEl.append(\"stop\").attr(\"offset\", \"\".concat(normalizedOffset, \"%\")).style(\"stop-color\", subArcData.color) //end in red\n    .style(\"stop-opacity\", 1);\n  });\n};\nexports.applyGradientColors = applyGradientColors;\n//Depending on the number of levels in the chart\n//This function returns the same number of colors\nvar getColors = function (nbArcsToDisplay, gauge) {\n  var _a;\n  var arc = gauge.props.arc;\n  var colorsValue = [];\n  if (!arc.colorArray) {\n    var subArcColors = (_a = arc.subArcs) === null || _a === void 0 ? void 0 : _a.map(function (subArc) {\n      return subArc.color;\n    });\n    colorsValue = (subArcColors === null || subArcColors === void 0 ? void 0 : subArcColors.some(function (color) {\n      return color != undefined;\n    })) ? subArcColors : constants_1.default.defaultColors;\n  } else {\n    colorsValue = arc.colorArray;\n  }\n  //defaults colorsValue to white in order to avoid compilation error\n  if (!colorsValue) colorsValue = [\"#fff\"];\n  //Check if the number of colors equals the number of levels\n  //Otherwise make an interpolation\n  var arcsEqualsColorsLength = nbArcsToDisplay === (colorsValue === null || colorsValue === void 0 ? void 0 : colorsValue.length);\n  if (arcsEqualsColorsLength) return colorsValue;\n  var colorScale = (0, d3_1.scaleLinear)().domain([1, nbArcsToDisplay])\n  //@ts-ignore\n  .range([colorsValue[0], colorsValue[colorsValue.length - 1]]) //Use the first and the last color as range\n  //@ts-ignore\n  .interpolate(d3_1.interpolateHsl);\n  var colorArray = [];\n  for (var i = 1; i <= nbArcsToDisplay; i++) {\n    colorArray.push(colorScale(i));\n  }\n  return colorArray;\n};\nexports.getColors = getColors;\nvar createGradientElement = function (div, uniqueId) {\n  //make defs and add the linear gradient\n  var lg = div.append(\"defs\").append(\"linearGradient\").attr(\"id\", uniqueId) //id of the gradient\n  .attr(\"x1\", \"0%\").attr(\"x2\", \"100%\").attr(\"y1\", \"0%\").attr(\"y2\", \"0%\");\n  return lg;\n};\nexports.createGradientElement = createGradientElement;\nvar getCoordByValue = function (value, gauge, position, centerToArcLengthSubtract, radiusFactor) {\n  var _a;\n  if (position === void 0) {\n    position = \"inner\";\n  }\n  if (centerToArcLengthSubtract === void 0) {\n    centerToArcLengthSubtract = 0;\n  }\n  if (radiusFactor === void 0) {\n    radiusFactor = 1;\n  }\n  var positionCenterToArcLength = {\n    \"outer\": function () {\n      return gauge.dimensions.current.outerRadius - centerToArcLengthSubtract + 2;\n    },\n    \"inner\": function () {\n      return gauge.dimensions.current.innerRadius * radiusFactor - centerToArcLengthSubtract + 9;\n    },\n    \"between\": function () {\n      var lengthBetweenOuterAndInner = gauge.dimensions.current.outerRadius - gauge.dimensions.current.innerRadius;\n      var middlePosition = gauge.dimensions.current.innerRadius + lengthBetweenOuterAndInner - 5;\n      return middlePosition;\n    }\n  };\n  var centerToArcLength = positionCenterToArcLength[position]();\n  // This normalizes the labels when distanceFromArc = 0 to be just touching the arcs \n  if (gauge.props.type === GaugeComponentProps_1.GaugeType.Grafana) {\n    centerToArcLength += 5;\n  } else if (gauge.props.type === GaugeComponentProps_1.GaugeType.Semicircle) {\n    centerToArcLength += -2;\n  }\n  var percent = utils.calculatePercentage(gauge.props.minValue, gauge.props.maxValue, value);\n  var gaugeTypesAngles = (_a = {}, _a[GaugeComponentProps_1.GaugeType.Grafana] = {\n    startAngle: utils.degToRad(-23),\n    endAngle: utils.degToRad(203)\n  }, _a[GaugeComponentProps_1.GaugeType.Semicircle] = {\n    startAngle: utils.degToRad(0.9),\n    endAngle: utils.degToRad(179.1)\n  }, _a[GaugeComponentProps_1.GaugeType.Radial] = {\n    startAngle: utils.degToRad(-39),\n    endAngle: utils.degToRad(219)\n  }, _a);\n  var _b = gaugeTypesAngles[gauge.props.type],\n    startAngle = _b.startAngle,\n    endAngle = _b.endAngle;\n  var angle = startAngle + percent * (endAngle - startAngle);\n  var coordsRadius = 1 * (gauge.dimensions.current.width / 500);\n  var coord = [0, -coordsRadius / 2];\n  var coordMinusCenter = [coord[0] - centerToArcLength * Math.cos(angle), coord[1] - centerToArcLength * Math.sin(angle)];\n  var centerCoords = [gauge.dimensions.current.outerRadius, gauge.dimensions.current.outerRadius];\n  var x = centerCoords[0] + coordMinusCenter[0];\n  var y = centerCoords[1] + coordMinusCenter[1];\n  return {\n    x: x,\n    y: y\n  };\n};\nexports.getCoordByValue = getCoordByValue;\nvar redrawArcs = function (gauge) {\n  (0, exports.clearArcs)(gauge);\n  (0, exports.setArcData)(gauge);\n  (0, exports.setupArcs)(gauge);\n};\nexports.redrawArcs = redrawArcs;\nvar clearArcs = function (gauge) {\n  gauge.doughnut.current.selectAll(\".subArc\").remove();\n};\nexports.clearArcs = clearArcs;\nvar clearOuterArcs = function (gauge) {\n  gauge.doughnut.current.selectAll(\".outerSubArc\").remove();\n};\nexports.clearOuterArcs = clearOuterArcs;\nvar validateArcs = function (gauge) {\n  verifySubArcsLimits(gauge);\n};\nexports.validateArcs = validateArcs;\n/**\n * Reorders the subArcs within the gauge's arc property based on the limit property.\n * SubArcs with undefined limits are sorted last.\n*/\nvar reOrderSubArcs = function (gauge) {\n  var _a;\n  var subArcs = (_a = gauge.props.arc) === null || _a === void 0 ? void 0 : _a.subArcs;\n  subArcs.sort(function (a, b) {\n    if (typeof a.limit === 'undefined' && typeof b.limit === 'undefined') {\n      return 0;\n    }\n    if (typeof a.limit === 'undefined') {\n      return 1;\n    }\n    if (typeof b.limit === 'undefined') {\n      return -1;\n    }\n    return a.limit - b.limit;\n  });\n};\nvar verifySubArcsLimits = function (gauge) {\n  var _a;\n  // disabled when length implemented.\n  // reOrderSubArcs(gauge);\n  var minValue = gauge.props.minValue;\n  var maxValue = gauge.props.maxValue;\n  var arc = gauge.props.arc;\n  var subArcs = arc.subArcs;\n  var prevLimit = undefined;\n  for (var _i = 0, _b = ((_a = gauge.props.arc) === null || _a === void 0 ? void 0 : _a.subArcs) || []; _i < _b.length; _i++) {\n    var subArc = _b[_i];\n    var limit = subArc.limit;\n    if (typeof limit !== 'undefined') {\n      // Check if the limit is within the valid range\n      if (limit < minValue || limit > maxValue) throw new Error(\"The limit of a subArc must be between the minValue and maxValue. The limit of the subArc is \".concat(limit));\n      // Check if the limit is greater than the previous limit\n      if (typeof prevLimit !== 'undefined') {\n        if (limit <= prevLimit) throw new Error(\"The limit of a subArc must be greater than the limit of the previous subArc. The limit of the subArc is \".concat(limit, \". If you're trying to specify length in percent of the arc, use property \\\"length\\\". refer to: https://github.com/antoniolago/react-gauge-component\"));\n      }\n      prevLimit = limit;\n    }\n  }\n  // If the user has defined subArcs, make sure the last subArc has a limit equal to the maxValue\n  if (subArcs.length > 0) {\n    var lastSubArc = subArcs[subArcs.length - 1];\n    if (lastSubArc.limit < maxValue) lastSubArc.limit = maxValue;\n  }\n};","map":{"version":3,"names":["__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","__importDefault","exports","validateArcs","clearOuterArcs","clearArcs","redrawArcs","getCoordByValue","createGradientElement","getColors","applyGradientColors","getArcDataByPercentage","getArcDataByValue","applyColors","setupTooltip","setupArcs","drawArc","setArcData","hideTooltip","utils","require","d3_1","arcHooks","constants_1","Tooltip_1","GaugeComponentProps_1","lodash_1","onArcMouseMove","event","d","gauge","data","tooltip","shouldChangeText","text","current","html","style","applyTooltipStyles","color","pageX","pageY","onMouseMove","arcColor","entries","defaultTooltipStyle","forEach","_a","key","camelCaseToKebabCase","onArcMouseLeave","mousemoveCbThrottled","cancel","onMouseLeave","onArcMouseOut","target","stroke","onArcMouseClick","onMouseClick","_b","arc","props","minValue","maxValue","nbArcsToDisplay","nbSubArcs","subArcs","length","colorArray","lastSubArcLimit_1","lastSubArcLimitPercentageAcc_1","subArcsLength_1","subArcsLimits_1","subArcsTooltip_1","subArc","i","subArcLength","subArcRange","limit","getCurrentGaugeValueByPercentage","remainingPercentageEquallyDivided","remainingSubArcs","slice","remainingPercentage","calculatePercentage","Math","max","push","reduce","count","curr","subArcs_1","arcData","map","showTick","onClick","arcValue_1","Array","from","_","getGrafanaMainArcData","percent","currentPercentage","curArcData","firstSubArc","secondSubArc","drawGrafanaOuterArc","resize","outerRadius","dimensions","type","GaugeType","Grafana","doughnut","selectAll","remove","outerArc","innerRadius","cornerRadius","padAngle","arcPaths","pieChart","enter","append","attr","outerArcSubarcs","mousemoveCbThrottled_1","throttle","on","_c","padding","_d","gradient","arcPadding","arcCornerRadius","arcObj","isTooltipInTheDom","document","getElementsByClassName","default","arcTooltipClassname","select","concat","subArcsPath","uniqueId_1","random","gradEl","find","subArcData","percentage","normalizedOffset","normalize","colorsValue","subArcColors","some","defaultColors","arcsEqualsColorsLength","colorScale","scaleLinear","domain","range","interpolate","interpolateHsl","div","uniqueId","lg","position","centerToArcLengthSubtract","radiusFactor","positionCenterToArcLength","outer","inner","between","lengthBetweenOuterAndInner","middlePosition","centerToArcLength","Semicircle","gaugeTypesAngles","startAngle","degToRad","endAngle","Radial","angle","coordsRadius","width","coord","coordMinusCenter","cos","sin","centerCoords","x","y","verifySubArcsLimits","reOrderSubArcs","sort","a","b","prevLimit","_i","Error","lastSubArc"],"sources":["C:/Users/Lenovo/Documents/ipondwebsite2/node_modules/react-gauge-component/dist/lib/GaugeComponent/hooks/arc.js"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateArcs = exports.clearOuterArcs = exports.clearArcs = exports.redrawArcs = exports.getCoordByValue = exports.createGradientElement = exports.getColors = exports.applyGradientColors = exports.getArcDataByPercentage = exports.getArcDataByValue = exports.applyColors = exports.setupTooltip = exports.setupArcs = exports.drawArc = exports.setArcData = exports.hideTooltip = void 0;\nvar utils = __importStar(require(\"./utils\"));\nvar d3_1 = require(\"d3\");\nvar arcHooks = __importStar(require(\"./arc\"));\nvar constants_1 = __importDefault(require(\"../constants\"));\nvar Tooltip_1 = require(\"../types/Tooltip\");\nvar GaugeComponentProps_1 = require(\"../types/GaugeComponentProps\");\nvar lodash_1 = require(\"lodash\");\nvar onArcMouseMove = function (event, d, gauge) {\n    //event.target.style.stroke = \"#ffffff5e\";\n    if (d.data.tooltip != undefined) {\n        var shouldChangeText = d.data.tooltip.text != gauge.tooltip.current.text();\n        if (shouldChangeText) {\n            gauge.tooltip.current.html(d.data.tooltip.text)\n                .style(\"position\", \"absolute\")\n                .style(\"display\", \"block\")\n                .style(\"opacity\", 1);\n            applyTooltipStyles(d.data.tooltip, d.data.color, gauge);\n        }\n        gauge.tooltip.current.style(\"left\", (event.pageX + 15) + \"px\")\n            .style(\"top\", (event.pageY - 10) + \"px\");\n    }\n    if (d.data.onMouseMove != undefined)\n        d.data.onMouseMove(event);\n};\nvar applyTooltipStyles = function (tooltip, arcColor, gauge) {\n    //Apply default styles\n    Object.entries(Tooltip_1.defaultTooltipStyle).forEach(function (_a) {\n        var key = _a[0], value = _a[1];\n        return gauge.tooltip.current.style(utils.camelCaseToKebabCase(key), value);\n    });\n    gauge.tooltip.current.style(\"background-color\", arcColor);\n    //Apply custom styles\n    if (tooltip.style != undefined)\n        Object.entries(tooltip.style).forEach(function (_a) {\n            var key = _a[0], value = _a[1];\n            return gauge.tooltip.current.style(utils.camelCaseToKebabCase(key), value);\n        });\n};\nvar onArcMouseLeave = function (event, d, gauge, mousemoveCbThrottled) {\n    mousemoveCbThrottled.cancel();\n    (0, exports.hideTooltip)(gauge);\n    if (d.data.onMouseLeave != undefined)\n        d.data.onMouseLeave(event);\n};\nvar hideTooltip = function (gauge) {\n    gauge.tooltip.current.html(\" \").style(\"display\", \"none\");\n};\nexports.hideTooltip = hideTooltip;\nvar onArcMouseOut = function (event, d, gauge) {\n    event.target.style.stroke = \"none\";\n};\nvar onArcMouseClick = function (event, d) {\n    if (d.data.onMouseClick != undefined)\n        d.data.onMouseClick(event);\n};\nvar setArcData = function (gauge) {\n    var _a, _b;\n    var arc = gauge.props.arc;\n    var minValue = gauge.props.minValue;\n    var maxValue = gauge.props.maxValue;\n    // Determine number of arcs to display\n    var nbArcsToDisplay = (arc === null || arc === void 0 ? void 0 : arc.nbSubArcs) || (((_a = arc === null || arc === void 0 ? void 0 : arc.subArcs) === null || _a === void 0 ? void 0 : _a.length) || 1);\n    var colorArray = (0, exports.getColors)(nbArcsToDisplay, gauge);\n    if ((arc === null || arc === void 0 ? void 0 : arc.subArcs) && !(arc === null || arc === void 0 ? void 0 : arc.nbSubArcs)) {\n        var lastSubArcLimit_1 = 0;\n        var lastSubArcLimitPercentageAcc_1 = 0;\n        var subArcsLength_1 = [];\n        var subArcsLimits_1 = [];\n        var subArcsTooltip_1 = [];\n        (_b = arc === null || arc === void 0 ? void 0 : arc.subArcs) === null || _b === void 0 ? void 0 : _b.forEach(function (subArc, i) {\n            var _a;\n            var subArcLength = 0;\n            //map limit for non defined subArcs limits\n            var subArcRange = 0;\n            var limit = subArc.limit;\n            if (subArc.length != undefined) {\n                subArcLength = subArc.length;\n                limit = utils.getCurrentGaugeValueByPercentage(subArcLength + lastSubArcLimitPercentageAcc_1, gauge);\n            }\n            else if (subArc.limit == undefined) {\n                subArcRange = lastSubArcLimit_1;\n                var remainingPercentageEquallyDivided = undefined;\n                var remainingSubArcs = (_a = arc === null || arc === void 0 ? void 0 : arc.subArcs) === null || _a === void 0 ? void 0 : _a.slice(i);\n                var remainingPercentage = (1 - utils.calculatePercentage(minValue, maxValue, lastSubArcLimit_1)) * 100;\n                if (!remainingPercentageEquallyDivided) {\n                    remainingPercentageEquallyDivided = (remainingPercentage / Math.max((remainingSubArcs === null || remainingSubArcs === void 0 ? void 0 : remainingSubArcs.length) || 1, 1)) / 100;\n                }\n                limit = lastSubArcLimit_1 + (remainingPercentageEquallyDivided * 100);\n                subArcLength = remainingPercentageEquallyDivided;\n            }\n            else {\n                subArcRange = limit - lastSubArcLimit_1;\n                // Calculate arc length based on previous arc percentage\n                if (i !== 0) {\n                    subArcLength = utils.calculatePercentage(minValue, maxValue, limit) - lastSubArcLimitPercentageAcc_1;\n                }\n                else {\n                    subArcLength = utils.calculatePercentage(minValue, maxValue, subArcRange);\n                }\n            }\n            subArcsLength_1.push(subArcLength);\n            subArcsLimits_1.push(limit);\n            lastSubArcLimitPercentageAcc_1 = subArcsLength_1.reduce(function (count, curr) { return count + curr; }, 0);\n            lastSubArcLimit_1 = limit;\n            if (subArc.tooltip != undefined)\n                subArcsTooltip_1.push(subArc.tooltip);\n        });\n        var subArcs_1 = arc.subArcs;\n        gauge.arcData.current = subArcsLength_1.map(function (length, i) { return ({\n            value: length,\n            limit: subArcsLimits_1[i],\n            color: colorArray[i],\n            showTick: subArcs_1[i].showTick || false,\n            tooltip: subArcs_1[i].tooltip || undefined,\n            onMouseMove: subArcs_1[i].onMouseMove,\n            onMouseLeave: subArcs_1[i].onMouseLeave,\n            onMouseClick: subArcs_1[i].onClick\n        }); });\n    }\n    else {\n        var arcValue_1 = maxValue / nbArcsToDisplay;\n        gauge.arcData.current = Array.from({ length: nbArcsToDisplay }, function (_, i) { return ({\n            value: arcValue_1,\n            limit: (i + 1) * arcValue_1,\n            color: colorArray[i],\n            tooltip: undefined,\n        }); });\n    }\n};\nexports.setArcData = setArcData;\nvar getGrafanaMainArcData = function (gauge, percent) {\n    if (percent === void 0) { percent = undefined; }\n    var currentPercentage = percent != undefined ? percent : utils.calculatePercentage(gauge.props.minValue, gauge.props.maxValue, gauge.props.value);\n    var curArcData = (0, exports.getArcDataByPercentage)(currentPercentage, gauge);\n    var firstSubArc = {\n        value: currentPercentage,\n        //White indicate that no arc was found and work as an alert for debug\n        color: (curArcData === null || curArcData === void 0 ? void 0 : curArcData.color) || \"white\",\n        //disabled for now because onMouseOut is not working properly with the\n        //high amount of renderings of this arc\n        //tooltip: curArcData?.tooltip\n    };\n    //This is the grey arc that will be displayed when the gauge is not full\n    var secondSubArc = {\n        value: 1 - currentPercentage,\n        color: \"#5C5C5C\"\n    };\n    return [firstSubArc, secondSubArc];\n};\nvar drawGrafanaOuterArc = function (gauge, resize) {\n    if (resize === void 0) { resize = false; }\n    var outerRadius = gauge.dimensions.current.outerRadius;\n    //Grafana's outer arc will be populates as the standard arc data would\n    if (gauge.props.type == GaugeComponentProps_1.GaugeType.Grafana && resize) {\n        gauge.doughnut.current.selectAll(\".outerSubArc\").remove();\n        var outerArc = (0, d3_1.arc)()\n            .outerRadius(outerRadius + 7)\n            .innerRadius(outerRadius + 2)\n            .cornerRadius(0)\n            .padAngle(0);\n        var arcPaths = gauge.doughnut.current\n            .selectAll(\"anyString\")\n            .data(gauge.pieChart.current(gauge.arcData.current))\n            .enter()\n            .append(\"g\")\n            .attr(\"class\", \"outerSubArc\");\n        var outerArcSubarcs = arcPaths\n            .append(\"path\")\n            .attr(\"d\", outerArc);\n        (0, exports.applyColors)(outerArcSubarcs, gauge);\n        var mousemoveCbThrottled_1 = (0, lodash_1.throttle)(function (event, d) { return onArcMouseMove(event, d, gauge); }, 20);\n        arcPaths\n            .on(\"mouseleave\", function (event, d) { return onArcMouseLeave(event, d, gauge, mousemoveCbThrottled_1); })\n            .on(\"mouseout\", function (event, d) { return onArcMouseOut(event, d, gauge); })\n            .on(\"mousemove\", mousemoveCbThrottled_1)\n            .on(\"click\", function (event, d) { return onArcMouseClick(event, d); });\n    }\n};\nvar drawArc = function (gauge, percent) {\n    var _a, _b;\n    if (percent === void 0) { percent = undefined; }\n    var _c = gauge.props.arc, padding = _c.padding, cornerRadius = _c.cornerRadius;\n    var _d = gauge.dimensions.current, innerRadius = _d.innerRadius, outerRadius = _d.outerRadius;\n    // chartHooks.clearChart(gauge);\n    var data = {};\n    //When gradient enabled, it'll have only 1 arc\n    if ((_b = (_a = gauge.props) === null || _a === void 0 ? void 0 : _a.arc) === null || _b === void 0 ? void 0 : _b.gradient) {\n        data = [{ value: 1 }];\n    }\n    else {\n        data = gauge.arcData.current;\n    }\n    if (gauge.props.type == GaugeComponentProps_1.GaugeType.Grafana) {\n        data = getGrafanaMainArcData(gauge, percent);\n    }\n    var arcPadding = gauge.props.type == GaugeComponentProps_1.GaugeType.Grafana ? 0 : padding;\n    var arcCornerRadius = gauge.props.type == GaugeComponentProps_1.GaugeType.Grafana ? 0 : cornerRadius;\n    var arcObj = (0, d3_1.arc)()\n        .outerRadius(outerRadius)\n        .innerRadius(innerRadius)\n        .cornerRadius(arcCornerRadius)\n        .padAngle(arcPadding);\n    var arcPaths = gauge.doughnut.current\n        .selectAll(\"anyString\")\n        .data(gauge.pieChart.current(data))\n        .enter()\n        .append(\"g\")\n        .attr(\"class\", \"subArc\");\n    var subArcs = arcPaths\n        .append(\"path\")\n        .attr(\"d\", arcObj);\n    (0, exports.applyColors)(subArcs, gauge);\n    var mousemoveCbThrottled = (0, lodash_1.throttle)(function (event, d) { return onArcMouseMove(event, d, gauge); }, 20);\n    arcPaths\n        .on(\"mouseleave\", function (event, d) { return onArcMouseLeave(event, d, gauge, mousemoveCbThrottled); })\n        .on(\"mouseout\", function (event, d) { return onArcMouseOut(event, d, gauge); })\n        .on(\"mousemove\", mousemoveCbThrottled)\n        .on(\"click\", function (event, d) { return onArcMouseClick(event, d); });\n};\nexports.drawArc = drawArc;\nvar setupArcs = function (gauge, resize) {\n    if (resize === void 0) { resize = false; }\n    //Setup the arc\n    (0, exports.setupTooltip)(gauge);\n    drawGrafanaOuterArc(gauge, resize);\n    (0, exports.drawArc)(gauge);\n};\nexports.setupArcs = setupArcs;\nvar setupTooltip = function (gauge) {\n    //Add tooltip\n    var isTooltipInTheDom = document.getElementsByClassName(constants_1.default.arcTooltipClassname).length != 0;\n    if (!isTooltipInTheDom)\n        (0, d3_1.select)(\"body\").append(\"div\").attr(\"class\", constants_1.default.arcTooltipClassname);\n    gauge.tooltip.current = (0, d3_1.select)(\".\".concat(constants_1.default.arcTooltipClassname));\n    gauge.tooltip.current\n        .on(\"mouseleave\", function () { return arcHooks.hideTooltip(gauge); })\n        .on(\"mouseout\", function () { return arcHooks.hideTooltip(gauge); });\n};\nexports.setupTooltip = setupTooltip;\nvar applyColors = function (subArcsPath, gauge) {\n    var _a, _b;\n    if ((_b = (_a = gauge.props) === null || _a === void 0 ? void 0 : _a.arc) === null || _b === void 0 ? void 0 : _b.gradient) {\n        var uniqueId_1 = \"subArc-linear-gradient-\".concat(Math.random());\n        var gradEl = (0, exports.createGradientElement)(gauge.doughnut.current, uniqueId_1);\n        (0, exports.applyGradientColors)(gradEl, gauge);\n        subArcsPath.style(\"fill\", function (d) { return \"url(#\".concat(uniqueId_1, \")\"); });\n    }\n    else {\n        subArcsPath.style(\"fill\", function (d) { return d.data.color; });\n    }\n};\nexports.applyColors = applyColors;\nvar getArcDataByValue = function (value, gauge) {\n    return gauge.arcData.current.find(function (subArcData) { return value <= subArcData.limit; });\n};\nexports.getArcDataByValue = getArcDataByValue;\nvar getArcDataByPercentage = function (percentage, gauge) {\n    return (0, exports.getArcDataByValue)(utils.getCurrentGaugeValueByPercentage(percentage, gauge), gauge);\n};\nexports.getArcDataByPercentage = getArcDataByPercentage;\nvar applyGradientColors = function (gradEl, gauge) {\n    gauge.arcData.current.forEach(function (subArcData) {\n        var _a, _b, _c, _d;\n        var normalizedOffset = utils.normalize(subArcData === null || subArcData === void 0 ? void 0 : subArcData.limit, (_b = (_a = gauge === null || gauge === void 0 ? void 0 : gauge.props) === null || _a === void 0 ? void 0 : _a.minValue) !== null && _b !== void 0 ? _b : 0, (_d = (_c = gauge === null || gauge === void 0 ? void 0 : gauge.props) === null || _c === void 0 ? void 0 : _c.maxValue) !== null && _d !== void 0 ? _d : 100);\n        gradEl.append(\"stop\")\n            .attr(\"offset\", \"\".concat(normalizedOffset, \"%\"))\n            .style(\"stop-color\", subArcData.color) //end in red\n            .style(\"stop-opacity\", 1);\n    });\n};\nexports.applyGradientColors = applyGradientColors;\n//Depending on the number of levels in the chart\n//This function returns the same number of colors\nvar getColors = function (nbArcsToDisplay, gauge) {\n    var _a;\n    var arc = gauge.props.arc;\n    var colorsValue = [];\n    if (!arc.colorArray) {\n        var subArcColors = (_a = arc.subArcs) === null || _a === void 0 ? void 0 : _a.map(function (subArc) { return subArc.color; });\n        colorsValue = (subArcColors === null || subArcColors === void 0 ? void 0 : subArcColors.some(function (color) { return color != undefined; })) ? subArcColors : constants_1.default.defaultColors;\n    }\n    else {\n        colorsValue = arc.colorArray;\n    }\n    //defaults colorsValue to white in order to avoid compilation error\n    if (!colorsValue)\n        colorsValue = [\"#fff\"];\n    //Check if the number of colors equals the number of levels\n    //Otherwise make an interpolation\n    var arcsEqualsColorsLength = nbArcsToDisplay === (colorsValue === null || colorsValue === void 0 ? void 0 : colorsValue.length);\n    if (arcsEqualsColorsLength)\n        return colorsValue;\n    var colorScale = (0, d3_1.scaleLinear)()\n        .domain([1, nbArcsToDisplay])\n        //@ts-ignore\n        .range([colorsValue[0], colorsValue[colorsValue.length - 1]]) //Use the first and the last color as range\n        //@ts-ignore\n        .interpolate(d3_1.interpolateHsl);\n    var colorArray = [];\n    for (var i = 1; i <= nbArcsToDisplay; i++) {\n        colorArray.push(colorScale(i));\n    }\n    return colorArray;\n};\nexports.getColors = getColors;\nvar createGradientElement = function (div, uniqueId) {\n    //make defs and add the linear gradient\n    var lg = div.append(\"defs\").append(\"linearGradient\")\n        .attr(\"id\", uniqueId) //id of the gradient\n        .attr(\"x1\", \"0%\")\n        .attr(\"x2\", \"100%\")\n        .attr(\"y1\", \"0%\")\n        .attr(\"y2\", \"0%\");\n    return lg;\n};\nexports.createGradientElement = createGradientElement;\nvar getCoordByValue = function (value, gauge, position, centerToArcLengthSubtract, radiusFactor) {\n    var _a;\n    if (position === void 0) { position = \"inner\"; }\n    if (centerToArcLengthSubtract === void 0) { centerToArcLengthSubtract = 0; }\n    if (radiusFactor === void 0) { radiusFactor = 1; }\n    var positionCenterToArcLength = {\n        \"outer\": function () { return gauge.dimensions.current.outerRadius - centerToArcLengthSubtract + 2; },\n        \"inner\": function () { return gauge.dimensions.current.innerRadius * radiusFactor - centerToArcLengthSubtract + 9; },\n        \"between\": function () {\n            var lengthBetweenOuterAndInner = (gauge.dimensions.current.outerRadius - gauge.dimensions.current.innerRadius);\n            var middlePosition = gauge.dimensions.current.innerRadius + lengthBetweenOuterAndInner - 5;\n            return middlePosition;\n        }\n    };\n    var centerToArcLength = positionCenterToArcLength[position]();\n    // This normalizes the labels when distanceFromArc = 0 to be just touching the arcs \n    if (gauge.props.type === GaugeComponentProps_1.GaugeType.Grafana) {\n        centerToArcLength += 5;\n    }\n    else if (gauge.props.type === GaugeComponentProps_1.GaugeType.Semicircle) {\n        centerToArcLength += -2;\n    }\n    var percent = utils.calculatePercentage(gauge.props.minValue, gauge.props.maxValue, value);\n    var gaugeTypesAngles = (_a = {},\n        _a[GaugeComponentProps_1.GaugeType.Grafana] = {\n            startAngle: utils.degToRad(-23),\n            endAngle: utils.degToRad(203)\n        },\n        _a[GaugeComponentProps_1.GaugeType.Semicircle] = {\n            startAngle: utils.degToRad(0.9),\n            endAngle: utils.degToRad(179.1)\n        },\n        _a[GaugeComponentProps_1.GaugeType.Radial] = {\n            startAngle: utils.degToRad(-39),\n            endAngle: utils.degToRad(219)\n        },\n        _a);\n    var _b = gaugeTypesAngles[gauge.props.type], startAngle = _b.startAngle, endAngle = _b.endAngle;\n    var angle = startAngle + (percent) * (endAngle - startAngle);\n    var coordsRadius = 1 * (gauge.dimensions.current.width / 500);\n    var coord = [0, -coordsRadius / 2];\n    var coordMinusCenter = [\n        coord[0] - centerToArcLength * Math.cos(angle),\n        coord[1] - centerToArcLength * Math.sin(angle),\n    ];\n    var centerCoords = [gauge.dimensions.current.outerRadius, gauge.dimensions.current.outerRadius];\n    var x = (centerCoords[0] + coordMinusCenter[0]);\n    var y = (centerCoords[1] + coordMinusCenter[1]);\n    return { x: x, y: y };\n};\nexports.getCoordByValue = getCoordByValue;\nvar redrawArcs = function (gauge) {\n    (0, exports.clearArcs)(gauge);\n    (0, exports.setArcData)(gauge);\n    (0, exports.setupArcs)(gauge);\n};\nexports.redrawArcs = redrawArcs;\nvar clearArcs = function (gauge) {\n    gauge.doughnut.current.selectAll(\".subArc\").remove();\n};\nexports.clearArcs = clearArcs;\nvar clearOuterArcs = function (gauge) {\n    gauge.doughnut.current.selectAll(\".outerSubArc\").remove();\n};\nexports.clearOuterArcs = clearOuterArcs;\nvar validateArcs = function (gauge) {\n    verifySubArcsLimits(gauge);\n};\nexports.validateArcs = validateArcs;\n/**\n * Reorders the subArcs within the gauge's arc property based on the limit property.\n * SubArcs with undefined limits are sorted last.\n*/\nvar reOrderSubArcs = function (gauge) {\n    var _a;\n    var subArcs = (_a = gauge.props.arc) === null || _a === void 0 ? void 0 : _a.subArcs;\n    subArcs.sort(function (a, b) {\n        if (typeof a.limit === 'undefined' && typeof b.limit === 'undefined') {\n            return 0;\n        }\n        if (typeof a.limit === 'undefined') {\n            return 1;\n        }\n        if (typeof b.limit === 'undefined') {\n            return -1;\n        }\n        return a.limit - b.limit;\n    });\n};\nvar verifySubArcsLimits = function (gauge) {\n    var _a;\n    // disabled when length implemented.\n    // reOrderSubArcs(gauge);\n    var minValue = gauge.props.minValue;\n    var maxValue = gauge.props.maxValue;\n    var arc = gauge.props.arc;\n    var subArcs = arc.subArcs;\n    var prevLimit = undefined;\n    for (var _i = 0, _b = ((_a = gauge.props.arc) === null || _a === void 0 ? void 0 : _a.subArcs) || []; _i < _b.length; _i++) {\n        var subArc = _b[_i];\n        var limit = subArc.limit;\n        if (typeof limit !== 'undefined') {\n            // Check if the limit is within the valid range\n            if (limit < minValue || limit > maxValue)\n                throw new Error(\"The limit of a subArc must be between the minValue and maxValue. The limit of the subArc is \".concat(limit));\n            // Check if the limit is greater than the previous limit\n            if (typeof prevLimit !== 'undefined') {\n                if (limit <= prevLimit)\n                    throw new Error(\"The limit of a subArc must be greater than the limit of the previous subArc. The limit of the subArc is \".concat(limit, \". If you're trying to specify length in percent of the arc, use property \\\"length\\\". refer to: https://github.com/antoniolago/react-gauge-component\"));\n            }\n            prevLimit = limit;\n        }\n    }\n    // If the user has defined subArcs, make sure the last subArc has a limit equal to the maxValue\n    if (subArcs.length > 0) {\n        var lastSubArc = subArcs[subArcs.length - 1];\n        if (lastSubArc.limit < maxValue)\n            lastSubArc.limit = maxValue;\n    }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}